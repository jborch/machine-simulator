<div class="m-14 flex items-start gap-8">
  <div class="w-40">
    <button
      (click)="toggle()"
      class="px-4 py-1.5 border border-gray-400 rounded bg-white cursor-pointer hover:bg-gray-100 active:bg-gray-200"
    >
      {{ snapped() ? 'Reset' : 'Snap Cap' }}
    </button>

    <label class="mt-4 block text-sm">Cap position: {{ capPercent() }}%</label>
    <input
      type="range"
      min="0"
      max="100"
      [value]="capPercent()"
      (input)="onSliderInput($event)"
      class="w-full mt-1"
    />
  </div>

  <div class="relative border border-dashed border-gray-400" style="width: 510px; height: 2320px">
    <app-cap
      class="block absolute left-0 top-0 z-10"
      [style.opacity]="CAP_OPACITY"
      [style.transform]="'translateY(' + capTranslateY() + 'px)'"
    />
    <app-pen class="block absolute left-[30px] top-[520px]" />
  </div>

  <div>
    <div class="text-sm font-semibold">Overlap</div>
    <div class="text-2xl">{{ overlapPixelCount() }}</div>
    <div class="text-xs text-gray-500 mb-4">pixels</div>
    <app-overlap-graph [dataPoints]="overlapHistory()" />
  </div>
</div>
